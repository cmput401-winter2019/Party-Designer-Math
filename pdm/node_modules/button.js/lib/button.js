'use strict';

var Button = function(options) {
  var text = options.text;
  var id = options.id;
  var style = options.style;
  var onclick = options.onclick;

  var node = document.createElement('button');

  if (text) {
    var textNode = document.createTextNode(text);
    node.appendChild(textNode);
  }
  
  id && (node.id = id);


  /****************\
   * style
  \****************/
  for (var st in style) {
    if (st === 'class') {
      var classes = style[st].split(' ');
      classes.forEach(function(klass) {
        node.classList.add(klass); 
      });
    } else {
      node.style[st] = style[st];
    }
  }

  node.onclick = function() {
    var myself = this;
    onclick(myself); 
  };

  return {
    text: function() {
      return text; 
    },

    mountToElement: function(ele) {
      ele && ele.appendChild(node); 
    },

    unmountToElement: function(ele) {
      ele.removeChild(node);  
    },

    mountToElementById: function(eleId) {
      var ele = document.getElementById(eleId);
      ele && ele.appendChild(node); 
    },

    unmountToElementById: function(eleId) {
      var ele = document.getElementById(eleId);
      ele.removeChild(node);  
    }
  };
};

module.exports = Button;
